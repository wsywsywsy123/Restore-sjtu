# 文字案例库使用说明

## 📚 案例库概述

文字案例库包含8个详细的石窟寺壁画保护案例，涵盖：

- **敦煌莫高窟案例** (2个)
  - 第45窟壁画起甲病害综合治理
  - 第158窟盐析病害综合治理工程

- **云冈石窟案例** (1个)
  - 第20窟露天大佛保护工程

- **龙门石窟案例** (1个)
  - 奉先寺卢舍那大佛彩绘保护

- **麦积山石窟案例** (1个)
  - 第133窟泥塑生物病害治理

- **技术创新案例** (2个)
  - AI智能监测系统应用
  - 三维数字化技术应用

- **应急保护案例** (1个)
  - 暴雨后石窟渗漏水紧急处理

## 🎯 案例信息结构

每个案例包含以下详细信息：

### 1. 基础信息
- 项目名称
- 位置
- 实施时间
- 项目团队
- 资金来源

### 2. 现状评估
- 初始状态描述
- 病害类型
- 影响区域
- 严重程度
- 风险评估

### 3. 原因分析
- 主要原因
- 次要原因
- 材料分析
- 环境因素

### 4. 修复过程
- 准备阶段
- 清洗阶段
- 加固阶段
- 最终处理

### 5. 使用材料
- 加固材料
- 工具设备
- 监测设备

### 6. 修复效果
- 即时效果
- 长期监测
- 量化数据
- 技术指标

### 7. 成本分析
- 材料成本
- 人工成本
- 设备成本
- 总成本
- 单位成本

### 8. 经验教训
- 技术要点
- 注意事项
- 改进建议

### 9. 专家评审
- 评分
- 评价意见

## 🔍 使用方法

### 前端查看

1. **启动应用**
   ```bash
   python start_app.py
   ```

2. **访问案例库**
   - 打开浏览器访问：`http://localhost:8501`
   - 点击"案例库"标签页

3. **搜索案例**
   - 使用关键词搜索（如"起甲"、"盐析"）
   - 按材质类型筛选
   - 按病害类型筛选
   - 按严重程度筛选

4. **查看详情**
   - 点击案例展开查看详细信息
   - 查看诊断结果、修复方案、修复结果
   - 查看前后对比照片（如果有）

### API查询

```python
import requests

# 搜索案例
response = requests.get(
    "http://localhost:8000/api/case/search",
    params={
        "keyword": "起甲",
        "limit": 10
    }
)

cases = response.json()
for case in cases:
    print(f"案例：{case['title']}")
    print(f"位置：{case['location']}")
    print(f"病害类型：{case['disease_types']}")
    print("---")
```

### 程序化使用

```python
from knowledge_base import CaseLibrary

# 初始化案例库
case_lib = CaseLibrary()

# 搜索案例
results = case_lib.search_cases(
    keyword="起甲",
    severity_level="严重"
)

# 获取案例详情
for case in results:
    print(f"标题：{case['title']}")
    print(f"诊断结果：{case.get('diagnosis_result', '')[:100]}...")
    print(f"修复方案：{case.get('treatment_plan', '')[:100]}...")
    print("---")
```

## 📊 案例统计

当前案例库包含：
- **总案例数**：13个（包括之前的示例案例）
- **按位置分布**：
  - 敦煌莫高窟：4个
  - 云冈石窟：2个
  - 龙门石窟：2个
  - 麦积山石窟：2个
  - 其他：3个

## 💡 应用场景

### 1. 技术参考
- 为新项目提供技术路线参考
- 学习成功案例的处理方法
- 了解材料选择和施工工艺

### 2. 方案制定
- 参考类似病害的处理经验
- 了解成本预算和工期安排
- 学习风险评估方法

### 3. 培训教育
- 作为文物保护培训教材
- 学习系统化的保护流程
- 了解最佳实践经验

### 4. 科研支持
- 为学术研究提供案例数据
- 分析不同技术的效果
- 总结保护规律和经验

## 🔧 扩展功能

### 搜索功能

```python
from textual_case_studies import search_cases_by_keyword

# 按关键词搜索
results = search_cases_by_keyword("起甲")
for result in results:
    print(f"案例ID：{result['case_id']}")
    print(f"匹配类型：{result['match_type']}")
```

### 统计分析

```python
from textual_case_studies import calculate_case_statistics

# 计算统计信息
stats = calculate_case_statistics()
print(f"总案例数：{stats['total_cases']}")
print(f"按地点分布：{stats['by_site']}")
print(f"按严重程度：{stats['by_severity']}")
```

### 最佳实践提取

```python
from textual_case_studies import extract_best_practices

# 提取最佳实践
practices = extract_best_practices()
print("诊断方法：", practices['diagnosis_methods'])
print("处理技术：", practices['treatment_techniques'])
```

## 📝 注意事项

1. **数据完整性**
   - 部分案例可能缺少某些字段
   - 建议在使用前检查数据完整性

2. **技术适用性**
   - 不同案例的技术方案需要根据实际情况调整
   - 材料选择要考虑兼容性测试

3. **持续更新**
   - 随着新项目的完成，可以继续添加案例
   - 建议定期更新案例库

4. **数据安全**
   - 敏感信息需要脱敏处理
   - 注意保护项目隐私

## 🚀 下一步

1. **添加照片**：为案例添加真实照片
2. **完善数据**：补充缺失的字段信息
3. **建立关联**：关联知识库和案例库
4. **智能推荐**：基于病害类型推荐相似案例

现在您拥有了一个包含详细信息的完整案例库系统！

